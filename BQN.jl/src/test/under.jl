function test_under(only=nothing)
  cases = [
           # Invertible
           (1, """ (⊑≡⊑⌾⊢) ⟨↕3,2,<"abc"⟩ """),
           (1, """ 3 (+≡+⌾⊣) 4 """),
           (1, """ (¯2⊸↓ ≡ 2⊸↓⌾⌽) ↕6 """),
           (1, """ (1⊸↓⌾⍉ ≡ 1⊸↓˘) ↕3‿3 """),
           (1, """ 7(⥊⌾(<˘)≡·<˘⁼⥊⟜(<˘))3‿3⥊↕9 """),
           (1, """ "abcd" (⊣≡»⌾≍) ↕4 """),
           (BQNError, """ ⍉⌾≍ "abc" """),
           (1, """ (⌽∘|⊸/4‿¯3) ≡ ↕∘≠⊸-⌾(3⊸⌽)↕7 """),

           # Structural
           # Monad
           (1, """ "bbcd" ≡ 1⊸+⌾⊑ "abcd" """),
           (1, """ (<∘- ≡ -⌾⊑) 4 """),
           (1, """ (⌽⌾⊏ ≡ ⌽⊸≍˝) "abc"≍"def" """),
           (BQNError, """ -⌾⊏ 4 """),
           (1, """ 1 ≡ "cd"‿"ab"⊸⊐⌾< "ab" """),
           (1, """ (0‿1+⌜0‿4‿2) ≡ ⍋∘⍋⌾⥊ "apl"≍"bqn" """),
           (1, """ 2 (⌽⌾⥊ ≡ 12|+) ⥊⟜(↕×´)6‿2 """),
           (1, """ ↕∘≠⊸+{𝔽≡𝔽¨⌾↑} "abcde" """),
           (1, """ 2⊸+{𝔽≡𝔽¨⌾↓} "abcde" """),
           # Dyad
           (BQNError, """ ↕∘≠⊸+⌾(10⊸⥊)↕6 """),
           (1, """ (⌽⍒⌊2÷˜↕7) ≡ ⌽˘⌾(⌊‿2⥊⊢)↕7 """),
           (1, """ ¯1‿0‿1‿3 ≡ -⟜(+´÷≠)⌾(3⊸↑)↕4 """),
           (1, """ "adcb" ≡ ⌽⌾(1⊸↓)"abcd" """),
           (1, """ 5‿6‿3‿0 ≡ (5‿3‿1⌾(0‿0⊸⍉)4‿3⥊0) +´∘×⎉1‿∞ 1+↕3 """),
           (1, """ "AbcD" ≡ ('A'-'a')⊸+⌾(1‿0‿0‿1⊸/)"abcd" """),
           (1, """ "AbcD" ≡ "ABCD"⊣⌾(1‿0‿0‿1⊸/)"abcd" """),
           (BQNError, """ ↕∘≠⊸+⌾(2⊸/)↕5 """),
           (1, """ (1⊸⌽ ≡ 2⊸⌽⌾(2⊸/)) ↕5 """),
           (1, """ "bdca" ≡ 1⊸⌽⌾(1‿3‿0⊸⊏)"abcd" """),
           (BQNError, """ 1⊸⌽⌾(1‿3‿3‿0⊸⊏)"abcd" """),
           (1, """ ((¯1⋆2∧⌜○(⌽0=↕)3)⊸× ≡ -⌾(1‿2⊑⊢))↕2‿3 """),
           (1, """ ((0‿3≍1‿2)⊸+ ≡ ⟨1,2‿3⟩⊸+⌾(⟨1‿0,⟨1‿1,0‿1⟩⟩⊸⊑))↕2‿2 """),
           # Compound
           (1, """ (1+↕3) ≡ 1⊸↓⌾(@⊢·⊑<)↕4 """),
           (1, """ "210abc" ≡ ⌽⌾((2÷˜≠)⊸↑)"012abc" """),
           (1, """ "bac"‿'d' ≡ ⌽⌾(2↑⊑)"abc"‿'d' """),
           (1, """ (⌽¨⌾(<2‿3⊸⊏) ≡ ⌽⌾(2‿3⊸⊏)) "abcdef" """),
           (1, """ "bdca" ≡ 1⊸⌽⌾(1‿3‿0˙⊏⊢)"abcd" """),
           # Fills
           # TODO: once fills are implemented...
           # (1, """ ! % ⌽⌾(1↓4↑⊢)"abc" """),

           # Computational
           (3, """ 1⊸+⌾-4 """),
           (20, """ ⌊0.5+ 4+⌾(⋆⁼)5 """),
           (2, """ ⊢⌾2 3 """),
           (-2, """ ⊢⌾(2∘-) 3 """),
           (1, """ ∘‿+ ≡ ⊢⌾∘‿+ 1 """),
          ]
  @testset "under" begin run_testsuite(cases, only=only) end
  nothing
end
